<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-robot INCAR Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ü§ñ Q-robot INCAR Generator</h1>
            <p class="subtitle">Create VASP INCAR files with an intuitive interface</p>
        </header>

        <div class="content-wrapper">
            <!-- Left Panel: Task Selection and Parameters -->
            <div class="panel panel-left">
                <section class="section">
                    <h2>üìã Select Calculation Task(s)</h2>
                    <div class="task-categories" id="taskCategories">
                        <p>Loading tasks...</p>
                    </div>
                </section>

                <section class="section">
                    <h2>‚öôÔ∏è Standard Parameters</h2>
                    <div class="parameter-sections" id="standardSections">
                        <p>Loading parameters...</p>
                    </div>
                </section>

                <section class="section">
                    <h2>üéØ Task Parameters</h2>
                    <div id="taskParams" class="parameter-sections">
                        <p class="info-text">Select a task to see its parameters</p>
                    </div>
                </section>

                <section class="section">
                    <h2>‚úèÔ∏è Custom Parameters</h2>
                    <div class="custom-params">
                        <div id="customParamsContainer">
                            <div class="param-input-row">
                                <input type="text" class="param-key" placeholder="Parameter name (e.g., ISPIN)">
                                <input type="text" class="param-value" placeholder="Value (e.g., 2)">
                                <button class="btn-remove" onclick="removeCustomParam(this)">‚úï</button>
                            </div>
                        </div>
                        <button class="btn-secondary" onclick="addCustomParam()">+ Add Parameter</button>
                    </div>
                </section>
            </div>

            <!-- Right Panel: Preview and Download -->
            <div class="panel panel-right">
                <section class="section">
                    <h2>üìù INCAR Preview</h2>
                    <textarea id="incarPreview" class="incar-textarea" placeholder="Your INCAR file will appear here..."></textarea>
                </section>

                <section class="section button-group">
                    <button class="btn-primary" onclick="generateIncar()">üìÑ Generate INCAR</button>
                    <button class="btn-success" onclick="downloadIncar()">‚¨áÔ∏è Download</button>
                    <button class="btn-info" onclick="copyToClipboard()">üìã Copy to Clipboard</button>
                </section>

                <section class="section info-section">
                    <h2>‚ÑπÔ∏è Information & Resources</h2>
                    <div class="info-content">
                        <!-- GitHub Link -->
                        <div class="info-box info-box-horizontal">
                            <div class="info-text">
                                <p><strong>GitHub Repository</strong></p>
                                <p style="font-size: 0.85em; margin: 3px 0;">View source code</p>
                            </div>
                        </div>

                        <!-- Documentation Link -->
                        <div class="info-box info-box-horizontal">
                            <div class="info-text">
                                <p><strong>Documentation</strong></p>
                                <p style="font-size: 0.85em; margin: 3px 0;">Read the docs</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script>
        // Debug: Log page load
        console.log('=== INCAR Generator Page Loaded ===');
    </script>
    <script src="{{ url_for('static', filename='js/main_simple.js') }}"></script>
</body>
</html>
